for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(5, 13)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
for (j in seq(3, 15)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
for (j in seq(3, 15)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
for (j in seq(0, 16)) {
for (i in seq(1, 130, 30)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
ggplot(err.rates, aes(k, err))
ggplot(err.rates, aes(k, err))+geom_smooth()
View(err.rates)
for (j in seq(0, 16)) {
for (i in seq(1, 130, 15)) {
test.index <- idx[i:(i+29)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
View(err.rates)
for (j in seq(0, 16)) {
for (i in seq(1, 130, 15)) {
test.index <- idx[i:(i+14)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
View(err.rates)
idx
? sample
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(0, 16)) {
for (i in seq(1, 130, 15)) {
test.index <- idx[i:(i+14)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
plot(err.rates)
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(0, 16)) {
for (i in seq(1, 130, 15)) {
test.index <- idx[i:(i+14)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(1, 16)) {
for (i in seq(1, 130, 15)) {
test.index <- idx[i:(i+14)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
ggplot(err.rates, aes(k, err))+geom_smooth()
idx <- sample(nrow(data), nrow(data))
err.rates <- data.frame(k=factor(), err=numeric())
for (j in seq(1, 16)) {
for (i in seq(1, 130, 15)) {
test.index <- idx[i:(i+14)]
test.data <- data[test.index, ]
train.data <- data[-test.index, ]
train.labels <- labels[-test.index]
test.labels <- labels[test.index]
knn.fit <- knn(train = train.data, test=test.data, cl=train.labels, k = j)
cat('\n', 'k=',j,', train.pct = ', train.pct, '\n', sep='')
print(table(test.labels, knn.fit))
this.err <- sum(test.labels != knn.fit) / length(test.labels)
err.rates <- rbind(err.rates, data.frame(k=j, err=this.err))
}
}
ggplot(err.rates, aes(k, err))+geom_smooth()
View(err.rates)
View(`a3`)
c + geom_bar()
library('RSQLite')
library('ggplot2')
setwd("~/Desktop/github/data_sci/project")
sqlite <- dbDriver("SQLite")
companiesdb <- dbConnect(sqlite,"companies.db")
dbListTables(companiesdb)
dbListFields(companiesdb,"companies")
results<-dbGetQuery(companiesdb,"SELECT name, categorycode from companies where categorycode is not null")
c <- ggplot(results, aes(categorycode))
c + geom_bar()
View(results)
d <- ggplot(results, aes(factor(categorycode),count, fill=factor(categorycode))
d + geom_bar()
d <- ggplot(results, aes(factor(categorycode),count, fill=factor(categorycode)))
d + geom_bar()
View(results)
d <- ggplot(results, aes(factor(categorycode), name, fill=factor(categorycode)))
d + geom_bar()
d <- ggplot(results, aes(factor(categorycode), fill=factor(categorycode)))
d + geom_bar()
d <- ggplot(results, aes(factor(categorycode), fill=factor(categorycode)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
? ggplot
results[1,2]
results[0,0]
results[1,1]
results[ ,1]
table(results$categorycode)
cat_freq<-table(results$categorycode)
cat_freq
table[1]
cat_freq[1]
summary(results$categorycode)
set.seed(12345)
x = rnorm(10000)
hist.data=hist(x, plot=F)
hist
hist.data$counts=log10(hist.data$counts)
hist(x)
hist(hist.data)
hist(hist.data$counts)
hist(x)
hist(results$categorycode, plot=F)
plot(results$categorycode, log='y')
cat_freq<-as.data.frame(table(results$categorycode))
View(cat_freq)
cat_freq$logs=log10(cat_freq$Freq)
View(cat_freq)
cat$Freq/1000
(cat$Freq)/1000
cat$Freq[]/1000
cat_freq$Freq$1000
cat_freq$Freq/1000
cat_freq$logs<-NULL
View(cat_freq)
cat_freq$Freq <- cat_freq$Freq/1000
View(cat_freq)
d <- ggplot(cat_freq, aes(Var1, fill=factor(categorycode)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(Var1, fill=factor(Var1)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(Freq, fill=factor(Var1)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(factor(Var1), fill=factor(Var1)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(factor(Freq), fill=factor(Var1)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, fill=factor(Var1)))
d <- ggplot(cat_freq, fill=factor(Var1))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(x = Var1, y=Freq), fill=factor(Var1))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(x = Categories, y='Count [000s]'), fill=factor(Var1))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(x = Var1, y=Freq), fill=factor(Var1))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(x = Var1, y=Freq, fill=factor(Var1))
)
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
? ggplot
d + geom_bar(xlab='category', ylab='Count [000s]')
? geom_bar
? theme
cat_freq<-as.data.frame(table(results$categorycode))
d <- ggplot(cat_freq, fill=factor(Var1))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90), axis.title.x='Category', axis.title.y='Count [000s]')
d + geom_bar()
? element_text
cat_freq<-as.data.frame(table(results$categorycode))
colnames(cat_freq) <- c("Category", "Count [000s]")
d <- ggplot(cat_freq, fill=factor(Var1))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d
cat_freq<-as.data.frame(table(results$categorycode))
colnames(cat_freq) <- c("Category", "Count[000s]")
d <- ggplot(cat_freq, aes(x=Category, fill=factor(Var1)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
cat_freq<-as.data.frame(table(results$categorycode))
colnames(cat_freq) <- c("Category", "Count[000s]")
d <- ggplot(cat_freq, aes(x=Category, fill=factor(Category)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
cat_freq<-as.data.frame(table(results$categorycode))
colnames(cat_freq) <- c("Category", "Count[000s]")
d <- ggplot(cat_freq, aes(x=Category, y=Count[000s] fill=factor(Category)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
? aes
d <- ggplot(cat_freq, aes(x=Category, Count[000s] fill=factor(Category)))
d <- ggplot(cat_freq, aes(x=Category, y=Count[000s] fill=factor(Category)))
colnames(cat_freq) <- c("Category", "Count in thousands")
thousands, fill=factor(Category)))
d
colnames(cat_freq) <- c("Category", "thousands")
d <- ggplot(cat_freq, aes(x=Category, y=thousands, fill=factor(Category)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
cat_freq<-as.data.frame(table(results$categorycode))
colnames(cat_freq) <- c("Category", "Count of category")
d <- ggplot(cat_freq, aes(x=Category, y=Count, fill=factor(Category)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
d <- ggplot(cat_freq, aes(x=Category, y='Count of category', fill=factor(Category)))
cat_freq<-as.data.frame(table(results$categorycode))
colnames(cat_freq) <- c("Category", "Count of category")
d <- ggplot(cat_freq, aes(x=Category, y='Count of category', fill=factor(Category)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
cat_freq<-as.data.frame(table(results$categorycode))
colnames(cat_freq) <- c("Category", "Count")
d <- ggplot(cat_freq, aes(x=Category, y=Count, fill=factor(Category)))
d <- d + theme(legend.position='none', axis.text.x=element_text(angle=90))
d + geom_bar()
e <-d+coord_polar()
view(e)
e
d + coord_polar()
e <- d + geom_bar()
e
e+polar_coord()
e+coord_polar()
pie(cat_freq$Count, labels=cat_fre$Category, main='Pie Chart')
pie(cat_freq$Count, labels=cat_freq$Category, main='Pie Chart')
e+coord_polar()
